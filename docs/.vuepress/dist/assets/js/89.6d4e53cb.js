(window.webpackJsonp=window.webpackJsonp||[]).push([[89],{555:function(t,a,s){"use strict";s.r(a);var e=s(8),n=Object(e.a)({},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"git"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#git","aria-hidden":"true"}},[t._v("#")]),t._v(" Git")]),t._v(" "),s("h2",{attrs:{id:"git-reset"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#git-reset","aria-hidden":"true"}},[t._v("#")]),t._v(" git reset")]),t._v(" "),s("p",[t._v("在某次提交后如果发现自己忘记添加某些文件，或者写错了提交信息，可以使用"),s("code",[t._v("--amend")]),t._v("选项")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#一个使用 --amend 的例子")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" commit -m "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"initial commit"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" forgotten_file\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" commit --amend\n")])])]),s("p",[t._v("撤销已暂存的文件")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" reset HEAD reset.md\n")])])]),s("p",[t._v("舍弃对文件的修改")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" checkout -- "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("filename"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" checkout -- "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v(".")]),t._v("\n")])])]),s("p",[t._v("！但是要主要到，"),s("code",[t._v("git checkout")]),t._v("是一条非常危险的命令，执行该命令以后，任何对文件作出的修改都会丢失，因为上述命令用之前版本的文件做了覆盖。")]),t._v(" "),s("p",[t._v("回到远程仓库的状态")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" fetch --all "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" rest --hard origin/master\n")])])]),s("p",[t._v("放弃所有更改")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" checkout "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v(".")]),t._v("\n")])])]),s("h2",{attrs:{id:"ssh"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ssh","aria-hidden":"true"}},[t._v("#")]),t._v(" ssh")]),t._v(" "),s("p",[t._v("Clone form server file using SSH:")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" clone ssh://root@120.78.71.220:22/~/data\n")])])]),s("p",[t._v("Connect using ssh:")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("ssh")]),t._v(" root@174.137.62.75\n")])])]),s("p",[t._v("ssh key:")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("ssh-keygen\n")])])]),s("h2",{attrs:{id:"git-config"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#git-config","aria-hidden":"true"}},[t._v("#")]),t._v(" git config")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" config --global user.name "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("username"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" config --global user.email "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("useremail"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" config --global core.editor emacs\n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" config --list\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" config user.name\n")])])]),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#for help")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("help")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("verb"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),s("p",[t._v("cache the config:")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" config --global credential.helper cache\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" config --global credential.helper store\n")])])]),s("h2",{attrs:{id:"github-accelerate"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#github-accelerate","aria-hidden":"true"}},[t._v("#")]),t._v(" GitHub accelerate")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("Update the host in "),s("code",[t._v("C:\\Windows\\System32\\drivers\\etc")])])]),t._v(" "),s("li",[s("p",[t._v("Visit  "),s("a",{attrs:{href:"http://tool.chinaz.com/dns",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://tool.chinaz.com/dns"),s("OutboundLink")],1)])]),t._v(" "),s("li",[s("p",[t._v("Found the IP and update hosts as the follow example:")])])]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("13.250.177.223 github.com\n151.101.228.133 assets-cdn.github.com\n151.101.73.194 github.global.ssl.fastly.net\n")])])]),s("h2",{attrs:{id:"git-clone"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#git-clone","aria-hidden":"true"}},[t._v("#")]),t._v(" git clone")]),t._v(" "),s("p",[t._v("克隆较慢时使用：")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" clone --depth"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("1 ulr\n")])])]),s("h2",{attrs:{id:"tag"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#tag","aria-hidden":"true"}},[t._v("#")]),t._v(" Tag")]),t._v(" "),s("p",[t._v("show tags:")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" tag\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" tag -l\n")])])]),s("p",[t._v("add tags:")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" tag -a v1.0 -m "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"my first version"')]),t._v("\n")])])]),s("p",[t._v("push tags to origin:")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" push origin v1.0\n")])])]),s("p",[t._v("强制推送使用：")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" push -f origin branch_name\n")])])]),s("h2",{attrs:{id:"git-basic"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#git-basic","aria-hidden":"true"}},[t._v("#")]),t._v(" Git basic")]),t._v(" "),s("h3",{attrs:{id:"status"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#status","aria-hidden":"true"}},[t._v("#")]),t._v(" Status")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" status\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" status -s\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ??: untrack")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# M : Modified")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# A : Modified new file")]),t._v("\n")])])]),s("h3",{attrs:{id:"gitignore"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#gitignore","aria-hidden":"true"}},[t._v("#")]),t._v(" gitignore")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("cat")]),t._v(" .gitignore\n*."),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("oa"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n*~\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#Example")]),t._v("\n*.a "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#忽略.a类型的文件")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("lib.a "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#仍然跟踪lib.a，即使上一行指令要忽略")]),t._v("\n/TODO "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#忽略当前目录的todo文件")]),t._v("\nbuild/ "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#忽略build/目录下的所有文件")]),t._v("\ndoc/*.txt "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#忽略doc/notes.txt，而不忽略doc/server/arch.txt")]),t._v("\ndoc/**/*.pdf "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#忽略doc/目录下的所有.pdf文件")]),t._v("\n")])])]),s("p",[t._v("如果改动文件不生效的话，使用：")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("rm")]),t._v(" -r --cached "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v(".")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v(".")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" commit -m "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'update .gitignore'")]),t._v("\n")])])]),s("p",[t._v("除此之外，还可以参考"),s("a",{attrs:{href:"https://github.com/github/gitignore",target:"_blank",rel:"noopener noreferrer"}},[t._v("GitHub官方示例"),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("如果想知道具体的变更内容，而不像"),s("code",[t._v("git status")]),t._v(" 那么宽泛，可以使用"),s("code",[t._v("git diff")])]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#查看有哪些已暂存的内容会进入下一次提交，该命令将暂存的变更与上一次提交的内容相比较")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("diff")]),t._v(" --staged\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("diff")]),t._v(" --cached\n")])])]),s("p",[t._v("移除文件")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("rm")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("filename"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#如果要把文件保存在工作目录，但从暂存区移除该文件")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("rm")]),t._v(" --cached README\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("rm")]),t._v(" log/\\*.log\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#移动文件")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mv")]),t._v(" README.md README\n")])])]),s("p",[t._v("查看提交历史")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" log\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" log -p -2\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 查看简略信息")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" log --stat\n")])])]),s("h3",{attrs:{id:"远程仓库的使用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#远程仓库的使用","aria-hidden":"true"}},[t._v("#")]),t._v(" 远程仓库的使用")]),t._v(" "),s("p",[t._v("要参与任何一个GIT项目的协作，需要了解到如何 "),s("strong",[t._v("管理远程仓库")])]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" clone https://github.com/schacon/ticgit\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("cd")]),t._v(" ticget\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#列出远程仓库的简短名称")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" remote\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#显示出Git存储的每个远程仓库对应的URL")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" remote -v\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#添加一个远程仓库，并给它起一个简短的名称以便于引用")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" remote "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("shortname"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("url"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#从远程仓库获取和拉取数据")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" fetch "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("remote-name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# e.g. git fetch pb")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#将变更推送到远程仓库")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" push origin master\n")])])]),s("p",[t._v("需要注意的一点是，推送变更时需要拥有远程仓库的写权限，并且克隆后没有任何其他人向远程仓库推送过数据。如果别人和你都clone了这个仓库，而他先推送，你后推送，那么你的这次推送会直接被拒绝。你必须先拉取别人的变更，将其整合到你的工作成果中，然后才能推送。")]),t._v(" "),s("p",[t._v("检查远程仓库")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#列出远程仓库的url地址以及每个分支的跟踪信息")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" remote show origin\n")])])]),s("p",[t._v("删除远程仓库")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" remote "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("rm")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("rep-name"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n")])])]),s("p",[t._v("添加远程仓库")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" remote "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("remote_name"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("url"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),s("h3",{attrs:{id:"git别名"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#git别名","aria-hidden":"true"}},[t._v("#")]),t._v(" Git别名")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" config --global alias.co checkout\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" config --global alias.br branch\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" config --global alias.unstage "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'reset HEAD --'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# git unstage filaA == git reset HEAD --fileA")]),t._v("\n")])])]),s("h2",{attrs:{id:"git-branch"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#git-branch","aria-hidden":"true"}},[t._v("#")]),t._v(" Git Branch")]),t._v(" "),s("p",[t._v("分支意味着偏离开发主线并继续你自己的工作而不影响主线开发，分支机制是Git的“杀手锏”！")]),t._v(" "),s("h3",{attrs:{id:"分支概述"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#分支概述","aria-hidden":"true"}},[t._v("#")]),t._v(" 分支概述")]),t._v(" "),s("p",[t._v("当你创建一个新分支的时候会发生什么？实际上，Git会创建一个可移动的新指针供你使用。")]),t._v(" "),s("p",[t._v("创建分支")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" branch testing\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#列出所有分支")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" branch\n* master\n  testing\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#查看各个分支当前所指向的对象")]),t._v("\n")])])]),s("p",[t._v("切换分支")]),t._v(" "),s("p",[s("code",[t._v("checkout")]),t._v("命令会改变HEAD指针，使其指向testing分支，在Git中，HEAD是一个指向当前所在的本地分支的指针")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" checkout testing\n")])])]),s("p",[t._v("分支与合并")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#创建并切换到该分支")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" checkout -b testing\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#在该分支上进行修改并提交")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#切换回master分支")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" checkout master\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#合并分支")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" merge testing\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#删除分支")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" branch -d testing\n")])])]),s("p",[t._v('注意到在merge的时候会有提示"fast-forward"，这由于当前的master分支所指向的提交是要并入的testing分支的直接上游，因为Git会将master分支指针向前移动。')]),t._v(" "),s("p",[t._v("合并冲突处理")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#配置合并工具")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" config merge.tool vimdiff\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" config merge.conflictstyle "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("diff3")]),t._v("\n")])])]),s("h3",{attrs:{id:"分支管理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#分支管理","aria-hidden":"true"}},[t._v("#")]),t._v(" 分支管理")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 查看每个分支上的最新提交")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" branch -v\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 查看哪些分支已经合并入当前分支的")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" branch --merged\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" branch --no-merged\n")])])]),s("p",[t._v("远程分支")]),t._v(" "),s("p",[t._v("如果从Git服务器clone到本地，Git的clone命令会自动把这台服务器命名为origin，使用"),s("code",[t._v("git clone -o <yourname>")]),t._v("便可以修改远程仓库的默认名称为：your name/master。")]),t._v(" "),s("p",[t._v("如果你在本地的master分支上进行了一些工作，与此同时，别人向Git服务器推送了数据，更新了服务器上的master分支，这时你的提交历史就与服务器上的历史产生了偏离。")]),t._v(" "),s("p",[t._v("于是要与服务器同步，下面的命令会查询“origin”对应的服务器地址，并从服务器取得本地尚未包含的数据，然后更新本地数据库，最后把origin/master指针移动到最新的位置上去。")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#与服务器同步")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" fetch origin\n")])])]),s("p",[t._v("推送")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" push origin serverfix\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#与其他人共享serverfix分支")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" push "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("remote"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("branch"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#等价于下述代码的省略形式")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" push origin serverfix:serverfix\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#第一个为本地分支名，第二个为远程分支名，可把远程分支重命名")]),t._v("\n")])])]),s("p",[t._v("跟踪分支")]),t._v(" "),s("p",[t._v("当你克隆一个远程仓库时，Git默认情况下会自动地创建跟踪这远程origin/master分支的本地master分支。除此之外，你也可是设置成不跟踪master分支。")]),t._v(" "),s("p",[s("code",[t._v("git checkout --track origin/serverfix")])]),t._v(" "),s("p",[t._v("或者"),s("code",[t._v("git checkout -b sf origin/serverfix")])]),t._v(" "),s("p",[t._v("完成上述命令以后，你的本地sf就会从origin/server上获取数据。")]),t._v(" "),s("p",[t._v("拉取")]),t._v(" "),s("p",[s("code",[t._v("git fetch")]),t._v("命令会拉取本地没有的远程最新更改数据，但它只会从服务器上拉取数据，然后让你自己进行合并。")]),t._v(" "),s("p",[s("code",[t._v("git pull")]),t._v("命令在大多数情况下基本等同于执行"),s("code",[t._v("git fetch")]),t._v("之后紧跟着执行了"),s("code",[t._v("git merge")]),t._v("命令。")]),t._v(" "),s("p",[t._v("一般来说，显示地直接使用fetch和merge命令比使用git pull要更好，因为git pull的机制常常使人迷惑。")]),t._v(" "),s("p",[t._v("删除远程分支")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#删除远程服务器上的master分支")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" push origin --delete serverfix\n")])])]),s("p",[t._v("上述操作只是删除了远程服务器上的分支指针，Git会保留数据一段时间知道下一次触发垃圾回收。")]),t._v(" "),s("h2",{attrs:{id:"其他有用操作"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#其他有用操作","aria-hidden":"true"}},[t._v("#")]),t._v(" 其他有用操作")]),t._v(" "),s("h3",{attrs:{id:"强制覆盖本地文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#强制覆盖本地文件","aria-hidden":"true"}},[t._v("#")]),t._v(" 强制覆盖本地文件")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" fetch --all\ngie reset --hard origin/master\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" pull\n")])])]),s("p",[s("code",[t._v("git reset")]),t._v("搭配"),s("code",[t._v("git reflog")]),t._v(":")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" reflog master\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" reset --hard master@"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("还原当前的目录到最新的版本：")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" checkout -- 目录名/\n")])])])])},[],!1,null,null,null);a.default=n.exports}}]);