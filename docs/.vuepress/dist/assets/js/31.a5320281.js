(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{172:function(t,s,a){"use strict";a.r(s);var n=a(6),e=Object(n.a)({},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"content"},[t._m(0),t._v(" "),a("p",[t._v("Common RDB(Relational Database): PostgreSQL, MySQL, Orcal, MS SQL Server and SQLite.")]),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),a("p",[a("a",{attrs:{href:"http://www.runoob.com/mongodb/mongodb-linux-install.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Install in LInux"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("Process in terminal:")]),t._v(" "),t._m(4),t._m(5),t._v(" "),t._m(6),t._m(7),t._v(" "),t._m(8),a("p",[a("a",{attrs:{href:"http://www.runoob.com/mongodb/mongodb-mongodump-mongorestore.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("mongodump and mongorestore"),a("OutboundLink")],1)]),t._v(" "),t._m(9),t._v(" "),t._m(10),t._v(" "),t._m(11),t._v(" "),t._m(12),t._m(13),t._v(" "),t._m(14),t._m(15),t._v(" "),t._m(16),t._m(17),t._v(" "),t._m(18),t._v(" "),a("p",[a("code",[t._v('cur.execute("CREATE TABLE demo(num int, str varchar(20));")')]),t._v("，DB-API规范，创建"),a("code",[t._v("cur")]),t._v("游标对象用于执行SQL命令。"),a("a",{attrs:{href:"https://github.com/chenweigao/python_web/blob/master/orm/db_test.py",target:"_blank",rel:"noopener noreferrer"}},[t._v("Source Code"),a("OutboundLink")],1)]),t._v(" "),t._m(19),t._m(20),t._v(" "),a("p",[a("a",{attrs:{href:"http://www.runoob.com/sqlite/sqlite-create-table.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Create table"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("format the table:")]),t._v(" "),t._m(21),a("p",[t._v("update:")]),t._v(" "),t._m(22),a("p",[t._v("register:")]),t._v(" "),t._m(23)])},[function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"database"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#database","aria-hidden":"true"}},[this._v("#")]),this._v(" Database")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"mongodb"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mongodb","aria-hidden":"true"}},[this._v("#")]),this._v(" MongoDB")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"basic"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#basic","aria-hidden":"true"}},[this._v("#")]),this._v(" Basic")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("p",[a("code",[t._v("database")]),t._v(" –"),a("code",[t._v("collection")]),t._v(" – "),a("code",[t._v("document")]),t._v("– "),a("code",[t._v("field")]),t._v(" – "),a("code",[t._v("index")]),t._v(".")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("./mongo.exe\n"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" show dbs\n"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" use "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("db name"),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("#create db")]),t._v("\n"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" db "),a("span",{attrs:{class:"token comment"}},[t._v("#see db")]),t._v("\n"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" db.createCollection"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("name, options"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("#create collections")]),t._v("\n"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" show collections\n"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" db.colname.insert"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{attrs:{class:"token string"}},[t._v('"xx"')]),t._v(", "),a("span",{attrs:{class:"token string"}},[t._v('"xx"')]),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" db.collection_name.find"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" db.collection_name.find"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(".pretty"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("#show in formatted")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("batch import "),s("code",[this._v(".json")]),this._v(" file:")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[this._v("mongoimport --db "),s("span",{attrs:{class:"token function"}},[this._v("users")]),this._v(" --collection contacts --file xx.json\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"mongorestore"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mongorestore","aria-hidden":"true"}},[this._v("#")]),this._v(" mongorestore")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("mongorestore -h "),a("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("hostname"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),a("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v(":port"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" -d dbname "),a("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("path"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"flask-pymongo"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#flask-pymongo","aria-hidden":"true"}},[this._v("#")]),this._v(" Flask-PyMongo")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("Install: "),s("code",[this._v("pip install flask_pymongo")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("in "),s("code",[this._v("config.py")]),this._v(":")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("Config")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    MONGO_URI "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"mongodb://localhost:27017/myDatabase"')]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("in "),s("code",[this._v("app/___init__.py")]),this._v(":")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("from")]),t._v(" flask_pymongo "),a("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" PyMongo\n"),a("span",{attrs:{class:"token keyword"}},[t._v("from")]),t._v(" config "),a("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" config\nmongo "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" PyMongo"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nmono"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("init_app"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("app"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("in "),s("code",[this._v("views.py")]),this._v(":")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("from")]),t._v(" app "),a("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" mongo\n@main"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("route"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'/'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" methods"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token string"}},[t._v("'GET'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'POST'")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("index")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n\tdata "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" mongo"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("db"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("mycol"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("find"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),a("span",{attrs:{class:"token comment"}},[t._v("# mycol is the name of collections")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"python-sql"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#python-sql","aria-hidden":"true"}},[this._v("#")]),this._v(" Python SQL")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("Take "),s("code",[this._v("SQLite3")]),this._v(" for example:")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[t._v("conn "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" sqlite3"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("connect"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'test.db'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\ncur "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" conn"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cursor"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\ncur"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("execute"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("\"INSERT INTO demo VALUES (%d, '%s')\"")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("%")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token number"}},[t._v("1")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'aaa'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"sqlite3"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#sqlite3","aria-hidden":"true"}},[this._v("#")]),this._v(" SQLite3")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("sqlite"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" .header on\nsqlite"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" .mode column\nsqlite"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" SELECT * FROM COMPANY"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("sqlite"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" UPDATE COMPANY SET ADDRESS "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'Texas'")]),t._v(" WHERE ID "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" 6"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n update "),a("span",{attrs:{class:"token function"}},[t._v("users")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("set")]),t._v(" confirmed "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" 1 where id"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v("4"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("from")]),t._v(" flask_sqlalchemy "),a("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" SQLAlchemy\ndb "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" SQLAlchemy"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])}],!1,null,null,null);e.options.__file="database.md";s.default=e.exports}}]);