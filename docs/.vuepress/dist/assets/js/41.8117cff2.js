(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{372:function(s,t,a){"use strict";a.r(t);var n={props:["slot-key"],mounted:function(){this.$nextTick(function(){this.$vuepress.$emit("AsyncMarkdownContentMounted",this.slotKey)})}},e=a(4),r=Object(e.a)(n,function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.slotKey}},[a("h1",{attrs:{id:"mongodb"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mongodb","aria-hidden":"true"}},[s._v("#")]),s._v(" MongoDB")]),s._v(" "),a("p",[s._v("Common RDB(Relational Database): PostgreSQL, MySQL, Orcal, MS SQL Server and SQLite.")]),s._v(" "),a("p",[a("code",[s._v("database")]),s._v(" –"),a("code",[s._v("collection")]),s._v(" – "),a("code",[s._v("document")]),s._v("– "),a("code",[s._v("field")]),s._v(" – "),a("code",[s._v("index")]),s._v(".")]),s._v(" "),a("p",[a("a",{attrs:{href:"http://www.runoob.com/mongodb/mongodb-linux-install.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("Install in LInux"),a("OutboundLink")],1)]),s._v(" "),a("h2",{attrs:{id:"crud"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#crud","aria-hidden":"true"}},[s._v("#")]),s._v(" CRUD")]),s._v(" "),a("p",[s._v("CRUD operations create, read, update, and create documents.")]),s._v(" "),a("h3",{attrs:{id:"cteate"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cteate","aria-hidden":"true"}},[s._v("#")]),s._v(" Cteate")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("db.collection.insertOne()")]),s._v(" New in version 3.2")]),s._v(" "),a("li",[a("code",[s._v("db.collection.insertMany()")]),s._v(" New in version 3.2")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("db.collection.insertOne"),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n\t"),a("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\t\t"),a("span",{attrs:{class:"token string"}},[s._v('"name"')]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v(":")]),s._v(" "),a("span",{attrs:{class:"token string"}},[s._v('"aaa"')]),s._v(',\n\t\t"age: 26\n\t'),a("span",{attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("db.collection.insertMany"),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n\t"),a("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n\t\t"),a("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),a("span",{attrs:{class:"token punctuation"}},[s._v("..")]),s._v(". "),a("span",{attrs:{class:"token punctuation"}},[s._v("}")]),s._v(",\n\t\t"),a("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),a("span",{attrs:{class:"token punctuation"}},[s._v("..")]),s._v(". "),a("span",{attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\t"),a("span",{attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("h3",{attrs:{id:"read"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#read","aria-hidden":"true"}},[s._v("#")]),s._v(" Read")]),s._v(" "),a("p",[s._v("Query a collection for document")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("db.collections.find"),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n\t"),a("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" age: "),a("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),a("span",{attrs:{class:"token variable"}},[s._v("$gt")]),a("span",{attrs:{class:"token keyword"}},[s._v(":")]),s._v(" 18 "),a("span",{attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),a("span",{attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(".limit"),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("5"),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h3",{attrs:{id:"update"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#update","aria-hidden":"true"}},[s._v("#")]),s._v(" Update")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("db.inventory.updateOne"),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n   "),a("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" item: "),a("span",{attrs:{class:"token string"}},[s._v('"paper"')]),s._v(" "),a("span",{attrs:{class:"token punctuation"}},[s._v("}")]),s._v(",\n   "),a("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n     "),a("span",{attrs:{class:"token variable"}},[s._v("$set")]),a("span",{attrs:{class:"token keyword"}},[s._v(":")]),s._v(" "),a("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),a("span",{attrs:{class:"token string"}},[s._v('"size.uom"')]),a("span",{attrs:{class:"token keyword"}},[s._v(":")]),s._v(" "),a("span",{attrs:{class:"token string"}},[s._v('"cm"')]),s._v(", status: "),a("span",{attrs:{class:"token string"}},[s._v('"P"')]),s._v(" "),a("span",{attrs:{class:"token punctuation"}},[s._v("}")]),s._v(",\n     "),a("span",{attrs:{class:"token variable"}},[s._v("$currentDate")]),a("span",{attrs:{class:"token keyword"}},[s._v(":")]),s._v(" "),a("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" lastModified: "),a("span",{attrs:{class:"token boolean"}},[s._v("true")]),s._v(" "),a("span",{attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n   "),a("span",{attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{attrs:{class:"token comment"}},[s._v("# created filed: ")]),s._v("\n"),a("span",{attrs:{class:"token comment"}},[s._v('# "lastModified" : ISODate("2018-10-26T08:59:26.038+0000")')]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("ul",[a("li",[a("code",[s._v("$set")]),s._v(" to update the value")]),s._v(" "),a("li",[a("code",[s._v("$currentDate")]),s._v(" operator to update the value of the "),a("code",[s._v("lastModified")]),s._v(" field to the current date, If lastModified field does not exist, "),a("code",[s._v("$currentDate")]),s._v(" will create the field.")])]),s._v(" "),a("p",[s._v("Update many: to update document on inventory where "),a("strong",[s._v("qty")]),s._v(" is less than "),a("strong",[s._v("50")]),s._v(":")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("db.inventory.updateMany"),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n   "),a("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),a("span",{attrs:{class:"token string"}},[s._v('"qty"')]),a("span",{attrs:{class:"token keyword"}},[s._v(":")]),s._v(" "),a("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),a("span",{attrs:{class:"token variable"}},[s._v("$lt")]),a("span",{attrs:{class:"token keyword"}},[s._v(":")]),s._v(" 50 "),a("span",{attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),a("span",{attrs:{class:"token punctuation"}},[s._v("}")]),s._v(",\n   "),a("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\t   "),a("span",{attrs:{class:"token comment"}},[s._v("#same as updateOne()")]),s._v("\n   "),a("span",{attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("p",[s._v("Replace:")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("db.inventory.replaceOne"),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n\t"),a("span",{attrs:{class:"token comment"}},[s._v("# or updateOne() updateMany()")]),s._v("\n   "),a("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" item: "),a("span",{attrs:{class:"token string"}},[s._v('"paperpaper"')]),s._v(" "),a("span",{attrs:{class:"token punctuation"}},[s._v("}")]),s._v(",\n   "),a("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" item: "),a("span",{attrs:{class:"token string"}},[s._v('"paper"')]),s._v(", instock: "),a("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),a("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" warehouse: "),a("span",{attrs:{class:"token string"}},[s._v('"A"')]),s._v(", qty: 60 "),a("span",{attrs:{class:"token punctuation"}},[s._v("}")]),s._v(", "),a("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" warehouse: "),a("span",{attrs:{class:"token string"}},[s._v('"B"')]),s._v(", qty: 40 "),a("span",{attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),a("span",{attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{attrs:{class:"token punctuation"}},[s._v("}")]),s._v(",\n   "),a("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" upsert: "),a("span",{attrs:{class:"token boolean"}},[s._v("true")]),s._v(" "),a("span",{attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("p",[s._v("If there are matching documents, then the "),a("code",[s._v("upsert")]),s._v(" operation modifies or replaces the matching document or documents.")]),s._v(" "),a("h3",{attrs:{id:"delate"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#delate","aria-hidden":"true"}},[s._v("#")]),s._v(" Delate")]),s._v(" "),a("p",[s._v("MongoDb provides the followinng methods to delete documents of a collection:")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("db.collection.deleteOne()")])]),s._v(" "),a("li",[a("code",[s._v("db.collection.deleteMany()")])]),s._v(" "),a("li",[a("code",[s._v("db.collection.remove()")])])]),s._v(" "),a("p",[s._v("Process in terminal:")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("./mongo.exe\n"),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v(" show dbs\n"),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v(" use "),a("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("db name"),a("span",{attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{attrs:{class:"token comment"}},[s._v("#create db")]),s._v("\n"),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v(" db "),a("span",{attrs:{class:"token comment"}},[s._v("#see db")]),s._v("\n"),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v(" db.createCollection"),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("name, options"),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{attrs:{class:"token comment"}},[s._v("#create collections")]),s._v("\n"),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v(" show collections\n"),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v(" db.colname.insert"),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{attrs:{class:"token string"}},[s._v('"xx"')]),s._v(", "),a("span",{attrs:{class:"token string"}},[s._v('"xx"')]),a("span",{attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v(" db.collection_name.find"),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v(" db.collection_name.find"),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(".pretty"),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{attrs:{class:"token comment"}},[s._v("#show in formatted")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("p",[s._v("batch import "),a("code",[s._v(".json")]),s._v(" file:")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("mongoimport --db "),a("span",{attrs:{class:"token function"}},[s._v("users")]),s._v(" --collection contacts --file xx.json\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"restore"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#restore","aria-hidden":"true"}},[s._v("#")]),s._v(" Restore")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("mongorestore -h "),a("span",{attrs:{class:"token operator"}},[s._v("<")]),s._v("hostname"),a("span",{attrs:{class:"token operator"}},[s._v(">")]),a("span",{attrs:{class:"token operator"}},[s._v("<")]),s._v(":port"),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v(" -d dbname "),a("span",{attrs:{class:"token operator"}},[s._v("<")]),s._v("path"),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("a",{attrs:{href:"http://www.runoob.com/mongodb/mongodb-mongodump-mongorestore.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("mongodump and mongorestore"),a("OutboundLink")],1)]),s._v(" "),a("h2",{attrs:{id:"flask-pymongo"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#flask-pymongo","aria-hidden":"true"}},[s._v("#")]),s._v(" Flask-PyMongo")]),s._v(" "),a("p",[s._v("Install: "),a("code",[s._v("pip install flask_pymongo")])]),s._v(" "),a("p",[s._v("in "),a("code",[s._v("config.py")]),s._v(":")]),s._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),a("span",{attrs:{class:"token class-name"}},[s._v("Config")]),a("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    MONGO_URI "),a("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{attrs:{class:"token string"}},[s._v('"mongodb://localhost:27017/myDatabase"')]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("in "),a("code",[s._v("app/___init__.py")]),s._v(":")]),s._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[s._v("from")]),s._v(" flask_pymongo "),a("span",{attrs:{class:"token keyword"}},[s._v("import")]),s._v(" PyMongo\n"),a("span",{attrs:{class:"token keyword"}},[s._v("from")]),s._v(" config "),a("span",{attrs:{class:"token keyword"}},[s._v("import")]),s._v(" config\nmongo "),a("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" PyMongo"),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nmono"),a("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("init_app"),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("app"),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("in "),a("code",[s._v("views.py")]),s._v(":")]),s._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[s._v("from")]),s._v(" app "),a("span",{attrs:{class:"token keyword"}},[s._v("import")]),s._v(" mongo\n@main"),a("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("route"),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{attrs:{class:"token string"}},[s._v("'/'")]),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" methods"),a("span",{attrs:{class:"token operator"}},[s._v("=")]),a("span",{attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{attrs:{class:"token string"}},[s._v("'GET'")]),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{attrs:{class:"token string"}},[s._v("'POST'")]),a("span",{attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),a("span",{attrs:{class:"token function"}},[s._v("index")]),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n\tdata "),a("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" mongo"),a("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("db"),a("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("mycol"),a("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("find"),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\t"),a("span",{attrs:{class:"token comment"}},[s._v("# mycol is the name of collections")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h2",{attrs:{id:"python-sql"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#python-sql","aria-hidden":"true"}},[s._v("#")]),s._v(" Python SQL")]),s._v(" "),a("p",[s._v("Take "),a("code",[s._v("SQLite3")]),s._v(" for example:")]),s._v(" "),a("p",[a("code",[s._v('cur.execute("CREATE TABLE demo(num int, str varchar(20));")')]),s._v("，DB-API规范，创建"),a("code",[s._v("cur")]),s._v("游标对象用于执行SQL命令。"),a("a",{attrs:{href:"https://github.com/chenweigao/python_web/blob/master/orm/db_test.py",target:"_blank",rel:"noopener noreferrer"}},[s._v("Source Code"),a("OutboundLink")],1)]),s._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[s._v("conn "),a("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" sqlite3"),a("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("connect"),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{attrs:{class:"token string"}},[s._v("'test.db'")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\ncur "),a("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" conn"),a("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("cursor"),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\ncur"),a("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("execute"),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{attrs:{class:"token string"}},[s._v("\"INSERT INTO demo VALUES (%d, '%s')\"")]),s._v(" "),a("span",{attrs:{class:"token operator"}},[s._v("%")]),s._v(" "),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{attrs:{class:"token number"}},[s._v("1")]),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{attrs:{class:"token string"}},[s._v("'aaa'")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h2",{attrs:{id:"sqlite3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sqlite3","aria-hidden":"true"}},[s._v("#")]),s._v(" SQLite3")]),s._v(" "),a("p",[a("a",{attrs:{href:"http://www.runoob.com/sqlite/sqlite-create-table.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("Create table"),a("OutboundLink")],1)]),s._v(" "),a("p",[s._v("format the table:")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("sqlite"),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v(" .header on\nsqlite"),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v(" .mode column\nsqlite"),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v(" SELECT * FROM COMPANY"),a("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("update:")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("sqlite"),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v(" UPDATE COMPANY SET ADDRESS "),a("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{attrs:{class:"token string"}},[s._v("'Texas'")]),s._v(" WHERE ID "),a("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" 6"),a("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n update "),a("span",{attrs:{class:"token function"}},[s._v("users")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("set")]),s._v(" confirmed "),a("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" 1 where id"),a("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v("4"),a("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("register:")]),s._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[s._v("from")]),s._v(" flask_sqlalchemy "),a("span",{attrs:{class:"token keyword"}},[s._v("import")]),s._v(" SQLAlchemy\ndb "),a("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" SQLAlchemy"),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])])])},[],!1,null,null,null);r.options.__file="database.md";t.default=r.exports}}]);